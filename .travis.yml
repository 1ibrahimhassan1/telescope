language: node_js
node_js:
  - "node"
services:
  - redis-server
os:
  - "linux"
  - "osx"
  - "windows"
addons:
  homebrew:
    packages: 
      - redis
    update: true
install:
  - if [ "$TRAVIS_OS_NAME" = "windows" ]; then choco install redis-64; fi
script:
  - if [ "$TRAVIS_OS_NAME" = "osx" ]; then redis-server /usr/local/etc/redis.conf; fi
  - if [ "$TRAVIS_OS_NAME" = "osx" ]; then npm start; fi
  - if [ "$TRAVIS_OS_NAME" = "windows" ]; then redis-server.exe; fi
